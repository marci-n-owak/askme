<!DOCTYPE html>
<html> 
<head>
<meta content="text/html" charset="UTF-8" />

<title>Make your tests</title> 

<link rel="icon" type="image/ico" href="images/ico.ico">
<link rel="stylesheet" href="css/zapis.css">
<script src="scripts/https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="scripts/filesaver.js"></script>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6345584486276285",
    enable_page_level_ads: true
  });
</script>
<script type="text/javascript" language="javascript">

    
   function pl(){
        window.location.hash = "#pl";
        languages();
    }
        function en(){
        window.location.hash = "#en";
        languages();
    }
    
    var language = {
            en: {
                bar1: "Take your tests",

                text1: "First language:",
                text2: "Second language:",
                text3: "Word one:",
                text4: "Word two:",

                guzik3: "Save",                
            },
            pl: {
                bar1: "Rozwiązuj swoje testy",

                text1: "Pierwszy język:",
                text2: "Drugi język:",
                text3: "Słówko pierwsze:",
                text4: "Słówko drugie:",

                guzik3: "Zapisz",                        
            },            
        };
        
        function languages(){
            if(window.location.hash === "#pl"){
                bar1.textContent = language.pl.bar1;

                text1.textContent = language.pl.text1;
                document.getElementById("j1").placeholder = "Np. Angielski";

                text2.textContent = language.pl.text2;
                document.getElementById("j2").placeholder = "Np. Polski";

                text3.textContent = language.pl.text3;
                document.getElementById("ramka1").placeholder = "Np. cat";

                text4.textContent = language.pl.text4;
                document.getElementById("ramka2").placeholder = "Np. kot";             

                document.getElementById("dodaj").value = "Dodaj";
                document.getElementById("usun").value = "Usuń";
                guzik3.textContent = language.pl.guzik3;              
            };
            if(window.location.hash === "#en"){
                bar1.textContent = language.en.bar1;

                text1.textContent = language.en.text1;
                document.getElementById("j1").placeholder = "E.g. English";

                text2.textContent = language.en.text2;
                document.getElementById("j2").placeholder = "E.g. Polish";

                text3.textContent = language.en.text3;
                document.getElementById("ramka1").placeholder = "E.g. cat";

                text4.textContent = language.en.text4;
                document.getElementById("ramka2").placeholder = "E.g. kot";

                document.getElementById("dodaj").value = "Add";
                document.getElementById("usun").value = "Undo";
                guzik3.textContent = language.en.guzik3;     
            };
        }






    
</script>
</head> 

<body>
        <nav class="navbar navbar-expand-md fixed-top navbar-dark fontNav">
        <a class=" fontNav scroll" href="index.html" id="navLogo"> AskMe </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
            aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a class="nav-link scroll fontNavA" href="przed_odczyt.html" id="bar1">Take your tests
                    </a>
                </li>
                <li class="nav-item active">
                        <a class="nav-link scroll fontNavA">
                            <img id="pl" src="images/pol.png" style="height: 14px; width: 28px; cursor: pointer;" onclick="pl()">
                            <img id="en" src="images/ang.png" style="height: 14px; width: 28px; cursor: pointer;" onclick="en()">
                        </a>
                </li>
            </ul>
        </div>
    </nav>
    <br>
    <br>
    <br>
    <br>
    <div class="all">
        <input type="submit" class="guziczki" id="pomoc" value="Help" onclick="help()" hidden>
        <a class="napis" id="text1">First language:</a>
        <input class="rameczka" type="text" id="j1" placeholder="E.g. English">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <a class="napis" id="text2">Second language:</a>
        <input class="rameczka" type="text" id="j2"placeholder="E.g. Polish">
    <br>
    <br>  
    <br>
        <a class="napis" id="text3">Word one:</a><div class="ramki"><input class="rameczka" type="text" id="ramka1" placeholder="E.g. cat"></div>
    <br>
    <br>
        <a class="napis" id="text4">Word two:</a><div class="ramki"><input class="rameczka" type="text" id="ramka2" placeholder="E.g. kot"></div>
    <br>
    <br>
    <input type="submit" class="guziczki" id="dodaj" onclick="insertMetachars(ramka1.value + ' - ' + ramka2.value + ' \r');insertMetachars1(ramka1.value + '\r' + ramka2.value + '\r');czysc()" value="Add" >
    <input type="submit" class="guziczki" id="usun" onclick="usun(); usun1()" value="Undo" >
    <br>
    <br>
    <form name="forma">
    <textarea disabled name="pole" id="podgladslowek"></textarea><br />
    </form>
    <p id="dlink"></p>
    <button class="guziczki" onclick="Zapisz()" id="guzik3">Save</button>
    <form name="forma1" >
    <textarea name="pole1" id="podgladslowek1" hidden></textarea><br />
    </form>
    </div>

        <footer>
        <hr class="my-4">
        <div class="container">
            <div class="row">
                <div class="col-sm-12">
                    <center>
                        <p style="font-family: 'Playfair Display', serif">© AskMe 2018</p>
                    </center>
                </div>
            </div>
        </div>
    </footer>
    
    
    
    
    
    
    <script>
        /*function help(){
            alert('Making test instruction:\n 1. Fill languages boxes as its in the template \n 2. Wypełji');
        }
        */

            document.getElementById("ramka2").addEventListener("keyup", function(event) {
            event.preventDefault();
            if (event.keyCode == 13) {
            document.getElementById("dodaj").click();
            document.getElementById("ramka1").focus();
            }
            });

        function przerwa1(){
            var tekst1 = document.getElementById("podgladslowek1").value;
            var przerwa1 = "\r\n";
            document.getElementById("podgladslowek1").value = tekst1 + przerwa1;
        }

        function przerwa(){
            var tekst = document.getElementById("podgladslowek").value;
            var przerwa = "\r\n";
            document.getElementById("podgladslowek").value = tekst + przerwa;            
        }

        function usun1(){
            for (let i=0; i<3; i++){
            var b = document.getElementById("podgladslowek1").value;
            document.getElementById("podgladslowek1").value = b.substring(0, b.lastIndexOf("\n"));
            }

            przerwa1();

        }
        

        function usun(){
            for (let i=0; i<2; i++){
            var b = document.getElementById("podgladslowek").value;
            document.getElementById("podgladslowek").value = b.substring(0, b.lastIndexOf("\n"));
            }
            przerwa();

        }
        
        function czysc(){
            document.getElementById("ramka1").value = "";
            document.getElementById("ramka2").value = "";
        }
        
        function insertMetachars(sStartTag, sEndTag) {
                   
            var bDouble = arguments.length > 1, oMsgInput = document.forma.pole, nSelStart = oMsgInput.selectionStart, nSelEnd = oMsgInput.selectionEnd, sOldText = oMsgInput.value;
            oMsgInput.value = sOldText.substring(0, nSelStart) + (bDouble ? sStartTag + sOldText.substring(nSelStart, nSelEnd) + sEndTag : sStartTag) + sOldText.substring(nSelEnd);
            oMsgInput.setSelectionRange(bDouble || nSelStart === nSelEnd ? nSelStart + sStartTag.length : nSelStart, (bDouble ? nSelEnd : nSelStart) + sStartTag.length);
            oMsgInput.focus();
        }
        function insertMetachars1(sStartTag, sEndTag) {
                   
            var bDouble = arguments.length > 1, oMsgInput = document.forma1.pole1, nSelStart = oMsgInput.selectionStart, nSelEnd = oMsgInput.selectionEnd, sOldText = oMsgInput.value;
            oMsgInput.value = sOldText.substring(0, nSelStart) + (bDouble ? sStartTag + sOldText.substring(nSelStart, nSelEnd) + sEndTag : sStartTag) + sOldText.substring(nSelEnd);
            oMsgInput.setSelectionRange(bDouble || nSelStart === nSelEnd ? nSelStart + sStartTag.length : nSelStart, (bDouble ? nSelEnd : nSelStart) + sStartTag.length);
            oMsgInput.focus();
        }
        
	    function Zapisz(){
            
            var jezyki = document.getElementById("j1").value + ' \r\n' + document.getElementById("j2").value;
            var slowka = document.getElementById("podgladslowek1").value; 
            var przerwa =  "\r\n";
            var content =  jezyki + przerwa + slowka + przerwa;
            uriContent = "data:application/octet-stream," + encodeURIComponent(content);
            document.getElementById("dlink").innerHTML = "<a href=" + uriContent + " download=\"AskMe_test.askme\">Download</a>";
	    }   
	</script>
        
</body>
</html>