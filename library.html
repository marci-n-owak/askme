<!DOCTYPE html>
<html> 
<head>
<meta content="text/html" charset="UTF-8" />
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6345584486276285",
    enable_page_level_ads: true
  });
</script>
<title>Library</title> 

<link rel="icon" type="image/ico" href="images/ico.ico">
<link rel="stylesheet" href="css/library.css">
<script type="text/javascript" src="scripts/jquery-latest.js"></script>
<script type="text/javascript" src="scripts/filesaver.js"></script>
<script type="text/javascript" src="scripts/jquery.tablesorter.js"></script>
<script type="text/javascript" language="javascript">
    

</script>



    
</script>
<script>
       function pl(){
        window.location.hash = "#pl";
        languages();
    }
        function en(){
        window.location.hash = "#en";
        languages();
    }
    
    var language = {
            en: {
                bar1: "Add to library",

                name: "Name",
                author: "Author",
                subject: "Subject",

                language1: "Language 1",
                language2: "Language 2",
                preview: "Preview",
                download: "Download",
         
            },
            pl: {
                bar1: "Dodaj do biblioteki",

                name: "Nazwa",
                author: "Autor",
                subject: "Temat",

                language1: "Język 1",
                language2: "Język 2",
                preview: "Podgląd",
                download: "Pobierz",      
            },            
        };
        
        function languages(){
            if(window.location.hash === "#pl"){
                bar1.textContent = language.pl.bar1;

                document.getElementById("myInput").placeholder = "Szukaj...";

                document.getElementById("name").textContent = "Nazwa";
                document.getElementById("author").textContent = "Autor";
                document.getElementById("subject").textContent = "Temat";

                name1.textContent = language.pl.name;
                author1.textContent = language.pl.author;
                subject1.textContent = language.pl.subject;
                language1.textContent = language.pl.language1;
                language2.textContent = language.pl.language2;
                preview.textContent = language.pl.preview;
                download.textContent = language.pl.download;

            };
            if(window.location.hash === "#en"){
                bar1.textContent = language.en.bar1;

                document.getElementById("myInput").placeholder = "Search for...";

                document.getElementById("name").textContent = "Name";
                document.getElementById("author").textContent = "Author";
                document.getElementById("subject").textContent = "Subject";

                name1.textContent = language.en.name;
                author1.textContent = language.en.author;
                subject1.textContent = language.en.subject;
                language1.textContent = language.en.language1;
                language2.textContent = language.en.language2;
                preview.textContent = language.en.preview;
                download.textContent = language.en.download;

            };
        }
</script>

</head> 

<body onload="wybor()">
        <nav class="navbar navbar-expand-md fixed-top navbar-dark fontNav">
        <a class=" fontNav scroll" href="index.html" id="navLogo"> AskMe </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
            aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a class="nav-link scroll fontNavA" href="addtolibrary.html" id="bar1">Add to library
                    </a>
                </li>
                <li class="nav-item active">
                        <a class="nav-link scroll fontNavA">
                            <img id="pl" src="images/pol.png" style="height: 14px; width: 28px; cursor: pointer;" onclick="pl()">
                            <img id="en" src="images/ang.png" style="height: 14px; width: 28px; cursor: pointer;" onclick="en()">
                        </a>
                </li>
            </ul>
        </div>
    </nav>
    <br>
    <br>
    <br>
    <br>
    <div class="all">
        <center>
            <p id="p" hidden>0</p>
            <input type="text" id="myInput" onkeyup="sortowanie()" placeholder="Search for...">
            <select name="text" id="combobox">
                <option selected id="name">Name</option> 
                <option id="author" >Author</option>
                <option id="subject" >Subject</option>
            </select>
            <br>
            <br>
            <table id="tabelka" class="tablesorter" style="width: auto; text-align: center;" border="1" >
                <tbody>
                <tr style="cursor: pointer;" class="header">
                <th id="name1">Name</th>
                <th id="author1">Author</th>
                <th id="subject1">Subject</th>
                <th id="language1">Language 1</th>
                <th id="language2">Language 2</th>
                <th id="preview">Preview</th>
                <th id="download">Download</th>
                </tr>
                <tr>
                <td>Komputerowe</td>
                <td>Marcin Nowak</td>
                <td>Komputery</td>
                <td>Angielski</td>
                <td>Polski</td>
                <td><a href="#" onclick="getText1()" >preview</a></td>
                <td><a href="http://askme.org.pl/tests/komputerowe.askme" download="komputerowe.askme" >download</a></td>
                </tr>
                <tr>
                <td>Nazwa 2</td>
                <td>Maciek</td>
                <td>Zwierzęta</td>
                <td>Angielski</td>
                <td>Polski</td>
                <td><a href="#" >preview</a></td>
                <td><a href="#" >download</a></td>
                </tr>
                </tbody>
            </table>
    
        </center>
        <footer>
        <hr class="my-4">
        <div class="container">
            <div class="row">
                <div class="col-sm-12">
                    <center>
                        <p style="font-family: 'Playfair Display', serif">© AskMe 2018</p>
                    </center>
                </div>
            </div>
        </div>
    </footer>
    
        <script>   
            var selectElem = document.getElementById('combobox')
            var pElem = document.getElementById('p')

            selectElem.addEventListener('change', function() {
            var index = selectElem.selectedIndex;
            pElem.innerHTML = index;
            })

            function sortowanie() {

                var input, filter, table, tr, td, i;
                input = document.getElementById("myInput");
                filter = input.value.toUpperCase();
                table = document.getElementById("tabelka");
                    tr = table.getElementsByTagName("tr");
                  
                

                for (i = 0; i < tr.length; i++) {
                    td = tr[i].getElementsByTagName("td")[pElem.innerHTML];
                    if (td) {
                    if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                        tr[i].style.display = "";
                    } else {
                        tr[i].style.display = "none";
                    }
                  } 
                 }
                }


            function getText1(){
                var request = new XMLHttpRequest();
                request.open('GET', 'http://askme.org.pl/tests/komputerowe.askme', true);
                request.send(null);
                request.onreadystatechange = function () {
                    if (request.readyState === 4 && request.status === 200) {
                        var type = request.getResponseHeader('Content-Type');
                        if (type.indexOf("text") !== 1) {
                        
                            var slowa = [];

                            var x = 0;
                            var y = 1;
                            var tekst = request.responseText;
                            slowa = tekst.split("\n");


                            var text = "";
                            var i = 0;

                            while(slowa[i]){

                            if(slowa[x]!==" "){
                            text += slowa[x] + " - " + slowa[y] + '<br>';
                            }
                            x = x + 2 ;
                            y = y + 2 ;
                            i++;
                                
                            }            

                        var okno = window.open("", "Words", "width=200,height=500,text-align=center");
                        var find = text.split('undefined - undefined').join('');
                        find=find.split('-').join('');
                        find=find.split('- undefined').join('');
                        find=find.split('undefined').join('');
                        find=find.split('undefined -').join('');
                        okno.document.write(find);
                        }
                    }
                }
            }

        </script>

 
</body>
</html>